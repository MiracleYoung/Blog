---
title: Dairy 20180605
date: {{ date }}
tags: Dairy
categories: 
- Diary
---


- 上午去浦发信用卡中心面试了，太早过去，期间一直刷手机，主要还是因为没有联系上人，**所以下次一定要保留hr联系方式**，避免早到、临时有事无法联系。之后和部门老大聊，似乎没有聊什么技术，后面得知面的是个应用运维岗位，有点不太匹配，**以后面试前，一定要对岗位职责定性，免去徒劳的奔波**。
- 12点吃饭，睡到1:45，2点开始学习，这个时间可以缩短，以后 **吃饭到1点，回来手机消息扫一下，就可以直接休息了**，不用刷到1:15，影响后续休息。
- 下午看了GIL和多线程多进程，这一段时间利用率还算大，尽量避免他人干扰。
- 之后开始看celery。并没有开始写，已经安装完环境，明天就可以写代码了。
- Docker/k8s 这个是现在的技术趋势，需要去看，可以调整一下，把celery放一下，把docker看掉。本周的重点，**docker**。

<!-- more -->

## Tech
### GIL
- python 的GIL是针对Cython的，python的默认解释器，使用c语言实现。由于大多数的第三方扩展都依赖于GIL，所以Cython也就被使用最多。
- GIL的存在是为了给线程分配执行权限，只有拿到GIL锁的线程才能够执行逻辑。
- Cython解释器对GIL的分配做了一些限制，每个线程能够执行的指令次数默认为100，则被迫交出GIL，在最新的python3.6中，已经修复为刚交出GIL的线程不会再争夺到GIL。以保证尽可能多的线程执行过。

### 多线程和多进程
- 多线程作用于IO密集型，多进程作用于CPU密集型
- IO密集型操作，瓶颈在IO，所以指令集下达后，线程会有hang住的情况，此时采用多线程，可以有效的利用其他线程的并发。
- CPU密集型操作，瓶颈在CPU，需要大量计算，类似数据矩阵计算、循环遍历等，这个时候线程并没有等待，反倒是不断的切换线程所带来的开销更大了。
